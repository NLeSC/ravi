<html>
  <head>
     <title>RAVI</title>
     <link rel="stylesheet" href="css/bootstrap.min.css">
     <link rel="stylesheet" href="css/vis-timeline-graph2d.min.css">
     <link rel="stylesheet" href="css/custom.css">

     <!-- external javascript libraries --!>
     <script src="js/jquery.slim.min.js"></script>
     <script src="js/popper.min.js"></script>
     <script src="js/bootstrap.min.js"></script>
     <script src="js/vis-timeline-graph2d.min.js"></script>
     <meta charset="utf-8"/>
  </head>

  <body>

    <!-- Modal for updating assignments on project and engineer timelines -->
    <div class="modal fade" id="assignmentModal" tabindex="-1" role="dialog" aria-labelledby="assignmentLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="assignmentLabel">
              Update
              <span id="modal-title-detail"></span>
            </h5>
          </div>
          <div class="modal-body">
            <div class="input-group mb-3" id="inputEngineerDiv">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputEngineer">Engineer</label>
              </div>
              <select class="custom-select" id="inputEngineer">
              </select>
            </div>
            <div class="input-group mb-3" id="inputLinemanagerDiv">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputLinemanager">Linemanager</label>
              </div>
              <select class="custom-select" id="inputLinemanager">
              </select>
            </div>
            <div class="input-group mb-3" id="inputCoordinatorDiv">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputCoordinator">Coordinator</label>
              </div>
              <select class="custom-select" id="inputCoordinator">
              </select>
            </div>
            <div class="input-group mb-3" id="inputProjectDiv">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputProject">Project</label>
              </div>
              <select class="custom-select" id="inputProject">
              </select>
            </div>
            <div class="input-group mb-3" id="inputFTEDiv">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputFTELabel">FTE</span>
              </div>
              <input id="inputFTE" type="text" class="form-control" placeholder="0.5" aria-label="FTE" aria-describedby="inputFTELabel">
            </div>
            <div class="input-group mb-3" id="inputStartDiv">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputStartLabel">Start</span>
              </div>
              <input id="inputStart" type="text" class="form-control" placeholder="YYYY-MM" aria-label="Start" aria-describedby="inputStartLabel">
            </div>
            <div class="input-group mb-3" id="inputEndDiv">
              <div class="input-group-prepend">
                <span class="input-group-text" id="inputEndLabel">End</span>
              </div>
              <input id="inputEnd" type="text" class="form-control" placeholder="YYYY-MM" aria-label="End" aria-describedby="inputEndLabel">
            </div>
            <div class="input-group mb-3" id="inputStatusDiv">
              <div class="input-group-prepend">
                <label class="input-group-text" for="inputStatus">Status</label>
              </div>
              <select class="custom-select" id="inputStatus">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
              </select>
            </div>

            <div id="visjs-detail-plot" class="w-100"> </div>

          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Discard changes</button>
            <button id="assignmentUpdateApply" type="button" class="btn btn-primary">Apply changes</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Div for the filtering and window control buttons -->
    <div class="container" id="RAVIControlsDiv">
      <div class="w-100 row">
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text" for="inputWindowOptions">Show</label>
          </div>
          <select class="custom-select" id="inputWindowOptions">
            <option value="eng_and_proj">Engineers and Projects</option>
            <option value="eng">Engineers</option>
            <option value="proj">Projects</option>
            <option value="overview">Overview</option>
            <option value="log">Log</option>
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text filter-option" for="inputStatusOptions">Status</label>
          </div>
          <select class="custom-select" id="inputStatusOptions">
            <option value="all">All</option>
            <option value="active" selected>Active</option>
            <option value="inactive">Inactive</option>
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text filter-option" for="inputCoordinatorOptions">Coordinator</label>
          </div>
          <select class="custom-select" id="inputCoordinatorOptions">
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text filter-option" for="inputLinemanagerOptions">Linemanager</label>
          </div>
          <select class="custom-select" id="inputLinemanagerOptions">
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text filter-option" for="inputEngineerOptions">Engineer</label>
          </div>
          <select class="custom-select" id="inputEngineerOptions">
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label class="input-group-text filter-option" for="inputProjectOptions">Project</label>
          </div>
          <select class="custom-select" id="inputProjectOptions">
          </select>
        </div>
        <div class="input-group mb-3 col">
          <div class="input-group-prepend">
            <label data-toggle="tooltip" data-placement="top" title="Click to recalculate the background coloring on timelines. Grey means the background is up-to-date. Orange means that an update is in progress. Red indicates an update is necessary." class="input-group-text filter-option" for="backgroundLegend" id="refresh-background">Refresh</label>
          </div>
          <select class="custom-select" id="inputProjectOptions">
            <option value="1">Legend</option>
            <optgroup label="VERY LOW: less than -0.5 FTE" style="background: rgba(5,5,55,0.20)"></optgroup>
            <optgroup label="LOW: -0.5 to -0.1 FTE" style="background: rgba(75,75,75,0.20)"</optgroup>
            <optgroup label="OK: -0.1 to 0.1 FTE" style="background: rgba(10,255,10,0.20)"></optgroup>
            <optgroup label="WARNING: 0.1 to 0.5 FTE" style="background: rgba(200,200,10,0.20)"></optgroup>
            <optgroup label="DANGER: 0.5 or more FTE" style="background: rgba(255,10,10,0.20)"></optgroup>
          </select>
        </div>
      </div>
      </div>
    </div>

    <!-- Div for the Engineer and Project timelines -->
    <div style="height: 70%" id="visjs-outer-container" class="w-100">
      <div style="float: left; padding: 1em;" id="visjs-engineers-container" class="w-50">
        <div style="display: flex">
          <div style="flex: 1 0 0;" class="input-group mb-3">
            <div class="input-group-prepend">
              <label class="input-group-text" for="inputEngineerSortOptions">Sort Engineers by</label>
            </div>
            <select class="custom-select" id="inputEngineerSortOptions">
              <option value="name">Name</option>
              <option value="start">Contract start date</option>
              <option value="end">Contract end date</option>
              <option value="balance">Unassigned FTE</option>
            </select>
          </div>
          <div style="flex: 0;" class="input-group mb-3">
            <button type="button" id="engineerZoomIn" class="btn btn-light">Zoom In</button>
          </div>
          <div style="flex: 0;" class="input-group mb-3">
            <button type="button" id="engineerZoomOut" class="btn btn-light">Zoom out</button>
          </div>
        </div>
      </div>


      <div style="float: right; padding: 1em;" id="visjs-projects-container" class="w-50">
        <div style="display: flex">
          <div style="flex: 1 0 0;" class="input-group mb-3">
            <div class="input-group-prepend">
              <label class="input-group-text" for="inputProjectSortOptions">Sort projects by</label>
            </div>
            <select class="custom-select" id="inputProjectSortOptions">
              <option value="name">Name</option>
              <option value="start">Project start date</option>
              <option value="end">Project end date</option>
              <option value="balance">Unassigned FTE</option>
            </select>
          </div>
          <div style="flex: 0;" class="input-group mb-3">
            <button type="button" id="projectZoomIn" class="btn btn-light">Zoom In</button>
          </div>
          <div style="flex: 0;" class="input-group mb-3">
            <button type="button" id="projectZoomOut" class="btn btn-light">Zoom out</button>
          </div>
        </div>
      </div>
      <div style="float: right; padding: 1em; display: none" id="visjs-overview-container" class="w-100"> </div>
      <div style="float: right; padding: 1em; display: none" id="log-container" class="w-100">
        <table class="table table-striped table-hover" id="log-table">
          <thead class="thead-dark">
            <tr>
              <th scope="col">date</th>
              <th scope="col">Change</th>
              <th scope="col" colspan="2">FTE</th>
              <th scope="col" colspan="2">Engineer</th>
              <th scope="col" colspan="2">Project</th>
              <th scope="col" colspan="2">Start</th>
              <th scope="col" colspan="2">End</th>
            </tr>
          </thead>
          <tbody id="log-body">
          </tbody>
        </table>
      </div>
    </div>

    <!-- RAVI sources --!>
    <script src="js/engineers.js"></script>
    <script src="js/projects.js"></script>
    <script src="js/assignments.js"></script>
    <script src="js/main.js"></script>

  </body>
</html>
